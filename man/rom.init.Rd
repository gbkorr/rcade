% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/engine.R
\name{rom.init}
\alias{rom.init}
\title{Create ROM Object}
\usage{
rom.init(
  screen.width,
  screen.height,
  keybinds = c(w = "up", a = "left", s = "down", d = "right"),
  startup = function(RAM) {
     return(RAM)
 },
  custom = function(RAM) {
     return(RAM)
 },
  sprites = list(),
  palette = c("  ", "[]", "  "),
  framerate = 60,
  backup_duration = 2,
  input_delay = 1/60
)
}
\arguments{
\item{screen.width}{Width of the game screen in pixels; see \link{render.scene}.}

\item{screen.height}{Height of the game screen in pixels.}

\item{keybinds}{Vector of keys and their corresponding action; see \code{\link[=inputs.process]{inputs.process()}}.}

\item{startup}{Function run by the game when initialized with \code{\link[=ram.init]{ram.init()}}. Must return \code{RAM}.}

\item{custom}{Function run by the game on every frame with \code{\link[=ram.tick]{ram.tick()}}. Must return \code{RAM}.}

\item{sprites}{List of all sprites (matrices) used by the game; see \link{render.animate}.}

\item{palette}{Vector of how each value of 0, 1, 2, 3, etc. in a sprite should be drawn by \code{\link[=render.matrix]{render.matrix()}}.}

\item{framerate}{Frames per second the game should run at. 60 recommended, 30 may be useful if \code{\link[=render.ram]{render.ram()}} takes a significant amount of time.}

\item{backup_duration}{How frequently the RAM backs itself up in seconds; see \link{ram.rollback}. Shouldn't need to be changed from the default.}

\item{input_delay}{Seconds to add to the timestamp of every input. Makes inputs get processed slightly after they were sent, to reduce the frequency of rollbacks.}
}
\description{
A ROM object contains all the static data for running a game. ROM elements can be set with this function or after the fact, e.g. with \code{ROM$framerate = 30}.

See `vignette("engine") for more info.
}
\section{Game Code}{

\code{ROM$custom} updates the RAM every frame in \code{\link[=ram.tick]{ram.tick()}}. All game code should be either in \code{ROM$custom} or in helper functions stored in the ROM, demonstrated below.
}

\examples{
testrom = rom.init(64,16)
testrom$example_function = function(){print('foo')}
testrom$startup = function(RAM){RAM$ROM$example_function(); return(RAM)}
RAM = ram.init(testrom)
}
