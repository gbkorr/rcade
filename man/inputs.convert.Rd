% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/inputs.R
\name{inputs.convert}
\alias{inputs.convert}
\title{Read Inputs with RAM}
\usage{
inputs.convert(RAM)
}
\arguments{
\item{RAM}{\href{ram.init}{RAM} object to update.}
}
\description{
Retrieves new inputs with \code{\link[=inputs.read]{inputs.read()}}, converts their timestamp to the tick the game should process them on, and saves them to \code{RAM$inputs}.\cr
If any of these new inputs should have occurred on a prior tick, \href{ram.rollback}{rolls back} to resolve the dropped input.

See \code{vignette("inputs")} for more details.
}
\details{
New inputs are inputs which exist in \code{inputs.csv} but not in \code{RAM$inputs}.

The tick an input should occur on is calculated as:

\if{html}{\out{<div class="sourceCode">}}\preformatted{RAM$began[2] +
ceiling(
	RAM$ROM$framerate * (
			newinputs$timestamp +
			RAM$ROM$input_delay -
			RAM$began[1]
	)
)
}\if{html}{\out{</div>}}

Where \code{RAM$began} stores the \code{c(timestamp, tick)} of the last time \code{\link[=ram.run]{ram.run()}} was called, \code{ROM$input_delay} is the desired delay between inputting a key and when the game should register it, and \code{ROM$framerate} is the desired framerate of the game.

New inputs occurring before the last call of ram.run, i.e. those from before the game started or while the game was paused, have their tick set to \code{-1} so they will never be registered.

Then \code{RAM$inputs} is updated to contain all the new inputs, matching \code{inputs.csv}.
}
